//#TO DO
			

TODONEXT : KAKO DA GET I POST JEDAN DAS DRUGI NEDAS USERU	

1. Popravi ovo da ne bude u securityConfigureru vec na kontroleru pristup rolama, i jednoj stavi da mogu pristupat i admini i useri, a drugoj samo admini npr.
?!1. Pitaj ono authenticated() any request ne ide nikako uz authenticate parmitAll jer onda  i ovaj mora slat pravi token. Jedino da ga izbacim te dopustim svim rutama koje nemaju @PreAuth ulazak svima, ili 

					
3. DTO prebaciti u drugi projekat buildat jar pa ukljuciti dependency u pom za ovaj projekat da koristis te DTO jer se cesto to koristi uraksi

4KUCI. detaljnije proc kroz jwt uradeno context security, ono je bitno

@autowired detaljnije izuciti, prednosti mane



_________________________________

!!! KAKO DA NAPRAVIM FIELD LVL SECURITY da kada neko ode na rutu questions a nije admin ne moze vidjeti jesu li odgovori tacni (ako to zelim bezobzira na smisao u ovoj stiucaiji)
 try this: 	- https://stackoverflow.com/questions/31442613/spring-security-entity-field-level-security
		+ Kako vratiti null kada pokusa user dobaviti questions koji sadrzi correct answera, a za admina drugacije. Nije valjda ista ruta sa 2 dopustenja? 

kaze on SPECIFICNO:	Kako da se ista ruta drugacije tretira kada je u headeru user a kako kada je admin. (my: "u kontroleru i servisu se moze uzeti i provjeriti koja je pa pozvati npr druge servise")
 
HITNO @BEAN uz last tut auth mang.

@transsactional 
## Koristi validclasshelpere za business logic validation (tacno 4 odgovora, samo 1 true)

ConstraintViolationException se baca kada prilikom spasavanja u db prekrsimo ogranicenja validnog inputa

@VALID 
DTO + VALID ? za svaki reqDTO moram primati i valid a onda i za db da provjerava kada se pise u db da se sta nije promjenilo 
 dakle na svakom dto kod mene treba provjera @size za level 

##########Security is the enemy of convenience, and vice versa.


https://docs.spring.io/spring-security/site/docs/4.2.x/reference/html/el-access.html     help
_______________________


Far future:
1. Koristim mockbean sa springboottest i runwith springrunner.class za obicne UNIT testove (radi dto) -> msm da ih to usporava ali nisam pronasao rjesenje kako da sa mock uradim jer je dto uvijek null.




__________ Far future ANSWER 1._____________

Problem 1 far future, se moze rijesiti tako sto se stavi i na dtomaper @Mock, uz koristenje u @test metodama na nacin

when(answerRepository.findById(13L)).thenReturn(Optional.of(new Answer("Answer of the question", false)));
        Answer answer = answerRepository.findById(13L).get();
     when(answerDtoMapper.answerToResponseAnswer(answer)).thenCallRealMethod().thenReturn(new AnswerResponseDto());

i tek tada dtomaper bude pravi objekat


answer 2 for 1.  nisam testirao al nesot slicno ovome bi moglo raditi
        @Before
        public void setUp() {
            when(modelMapper.map(any(), any())).thenReturn(userDTO);

            userDTO.setId(1L);
            userDTO.setUsername("zavada");
            userDTO.setUserId("33b4c069-e907-45a9-8d49-2042044c56e0");
        }
_______________________________



